let registeredAccounts = [
    { username: 'Admin', account: 'a0909033258@gmail.com', password: 'love369258', isAdmin: true }
];
let loggedIn = false;

function toggleForm(formType) {
    const loginForm = document.getElementById('login-form');
    const registerForm = document.getElementById('register-form');
    loginForm.style.display = formType === 'login' ? 'block' : 'none';
    registerForm.style.display = formType === 'register' ? 'block' : 'none';
}

function register() {
    const username = document.getElementById('register-username').value;
    const account = document.getElementById('register-account').value;
    const confirmAccount = document.getElementById('confirm-account').value;
    const password = document.getElementById('register-password').value;
    const confirmPassword = document.getElementById('confirm-password').value;

    if (account === confirmAccount && password === confirmPassword) {
        registeredAccounts.push({ username, account, password, isAdmin: false });
        alert('註冊成功！請登入。');
        toggleForm('login');
    } else {
        alert('帳號或密碼不匹配，請檢查。');
    }
}

function login() {
    const account = document.getElementById('login-account').value;
    const password = document.getElementById('login-password').value;
    const user = registeredAccounts.find(acc => acc.account === account && acc.password === password);

    if (user) {
        loggedIn = true;
        if (user.isAdmin) {
            window.location.href = 'admin.html';
        } else {
            alert(`歡迎回來，${user.username}！`);
            document.getElementById('login-form').style.display = 'none';
        }
    } else {
        alert('請註冊帳戶。');
    }
}

document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape') {
        document.getElementById('login-form').style.display = 'none';
    }
});
